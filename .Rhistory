sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間) %>%
#mutate(Follow = as.numeric(Follow)) %>%
dplyr::select(RandomID, Group, Age, Follow) #%>%
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間) %>%
dplyr::select(RandomID, Group, Age, Follow) %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 2,
omit = "RandomID")
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間) %>%
dplyr::select(RandomID, Group, Age, Follow)
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper")
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow) %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 2,
omit = "RandomID")
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow)
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow) %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 3,
omit = "RandomID")
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow)
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow) %>%
mutate_if(is.character, as.factor) %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 3,
omit = "RandomID")
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow) %>%
mutate_if(is.character, as.factor) %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 3,
omit = "RandomID")
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper")
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow) %>%
mutate_if(is.character, as.factor) %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 3,
omit = "RandomID")
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow) %>%
mutate_if(is.character, as.factor) %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 3,
omit = "RandomID")
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow) %>%
mutate_if(is.character, as.factor) %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 3,
omit = "RandomID")
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow) %>%
mutate_if(is.character, as.factor) %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 3,
omit = "RandomID")
library(tidyverse)
PATH <- "211021_PSJM2"
#
setwd(PATH)
dir() %>%
file.rename(., gsub("(?<![0-9])([0-9])(?![0-9])",
"0\\1",
.,
perl = TRUE))  # Slide1 -> Slide01
PATH <- "211021_PSJM" # PNGファイルのディレクトリ
#
setwd(PATH)
dir() %>%
file.rename(., gsub("(?<![0-9])([0-9])(?![0-9])",
"0\\1",
.,
perl = TRUE))  # Slide1 -> Slide01
dir() %>%
paste0("![](",PATH,"/", ., ")") %>%
noquote %>% # patse()の結果から"を除去する
cat(., sep="\n\n") # \nは改行を表す
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow) %>%
mutate_if(is.character, as.factor) %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 3,
omit = "RandomID")
library(tidyverse)
library(readxl)
source("/Users/shibataryohei/Git/bgstats/bgstats.R")
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow) %>%
mutate_if(is.character, as.factor) %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 3,
omit = "RandomID")
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別)
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別,
Complication = 合併症) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow, Complication) %>%
mutate_if(is.character, as.factor) %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 3,
omit = "RandomID")
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別,
Complication = 合併症) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow, Complication) %>%
mutate_if(is.character, as.factor)
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別,
Complication = 合併症) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow, Complication) %>%
mutate_if(is.character, as.factor) -> Data_tbw
Data_tbw %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 3,
omit = "RandomID")
Data_tbw
Data_tbw %>%
group_by(Group) %>%
dplyr::summarise(Follow = sum(Follow))
Data_tbw %>%
group_by(Group)
Data_tbw %>%
group_by(Group) %>%
dplyr::summarise(Follow = sum(Follow))
Data_tbw %>%
group_by(Group) %>%
dplyr::summarise(Follow_PersonYear = sum(Follow))
Data_tbw
Data_tbw
Data_tbw %>%
mutate(Complication = if_else(Complication == "なし",
"なし", "あり"))
Data_tbw %>%
mutate(Complication = if_else(Complication == "なし",
"なし", "あり")) %>%
group_by(Group, Complication) %>%
dplyr::summarise(Count = n())
Data_tbw %>%
mutate(Complication = if_else(Complication == "なし",
"なし", "あり")) %>%
group_by(Group, Complication) %>%
dplyr::summarise(Count = n()) %>%
spread(Complicatin, Count)
Data_tbw %>%
mutate(Complication = if_else(Complication == "なし",
"なし", "あり")) %>%
group_by(Group, Complication) %>%
dplyr::summarise(Count = n()) %>%
spread(Complication, Count)
Data_tbw %>%
mutate(Complication = if_else(Complication == "なし",
"Complication-", "Complication+")) %>%
group_by(Group, Complication) %>%
dplyr::summarise(Count = n()) %>%
spread(Complication, Count) %>%
mutate(Total = `Complication-`+`Complication+`)
Data_tbw %>%
mutate(Complication = if_else(Complication == "なし",
"Complication-", "Complication+")) %>%
group_by(Group, Complication) %>%
dplyr::summarise(Count = n()) %>%
spread(Complication, Count)
Data_tbw %>%
mutate(Complication = if_else(Complication == "なし",
"Complication-", "Complication+")) %>%
group_by(Group, Complication) %>%
dplyr::summarise(Count = n())
Data_tbw %>%
mutate(Complication = if_else(Complication == "なし",
"Complication-", "Complication+")) %>%
group_by(Group, Complication) %>%
filter(Complication == "Complication+")
Data_tbw %>%
mutate(Complication = if_else(Complication == "なし",
"Complication-", "Complication+")) %>%
group_by(Group, Complication) %>%
dplyr::sumarise(Count = n())
Data_tbw %>%
mutate(Complication = if_else(Complication == "なし",
"Complication-", "Complication+")) %>%
group_by(Group, Complication) %>%
dplyr::sumarise(Count = n()) %>%
filter(Complication == "Complication+") %>%
Data_tbw %>%
mutate(Complication = if_else(Complication == "なし",
"Complication-", "Complication+")) %>%
group_by(Group, Complication) %>%
dplyr::sumarise(Count = n()) %>%
filter(Complication == "Complication+")
Data_tbw %>%
mutate(Complication = if_else(Complication == "なし",
"Complication-", "Complication+")) %>%
group_by(Group, Complication) %>%
dplyr::sumarise(Count = n()) %>%
filter(Complication == "Complication+")
Data_tbw %>%
mutate(Complication = if_else(Complication == "なし",
"Complication-", "Complication+")) %>%
group_by(Group, Complication) %>%
dplyr::summarise(Count = n()) %>%
filter(Complication == "Complication+")
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別,
Complication = 合併症) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow, Complication) %>%
mutate_if(is.character, as.factor) -> Data_tbw
Data_tbw
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別,
Complication = 合併症) %>%
mutate(Complication = if_else(Complication == "なし",
"Complication-", "Complication+")) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow, Complication) %>%
mutate_if(is.character, as.factor) -> Data_tbw
Data_tbw %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 3,
omit = "RandomID")
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別,
Complication = 合併症)
Data_tbw
Data_tbw %>%
group_by(Group) %>%
dplyr::summarise(Follow_PersonYear = sum(Follow))
Data_tbw %>%
group_by(Group, Complication) %>%
dplyr::summarise(Count = n()) %>%
filter(Complication == "Complication+")
Data_tbw
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別,
Complication = 合併症) %>%
mutate(Complication = if_else(Complication == "なし",
"Complication-", "Complication+")) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow, Complication) %>%
mutate_if(is.character, as.factor) -> Data_tbw
Data_tbw
Data_tbw %>%
group_by(Group) %>%
dplyr::summarise(Follow_PersonYear = sum(Follow))
Data_tbw %>%
group_by(Group, Complication) %>%
dplyr::summarise(Count = n()) %>%
filter(Complication == "Complication+")
Data_tbw %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 3,
omit = "RandomID")
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別,
Complication = 合併症) %>%
mutate(Complication = if_else(Complication == "なし",
"Complication-", "Complication+")) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow, Complication) %>%
mutate_if(is.character, as.factor) -> Data_tbw
Data_tbw %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 3,
omit = "RandomID")
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別,
Complication = 合併症) %>%
mutate(Complication = if_else(Complication == "なし",
"Complication-", "Complication+")) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow, Complication) %>%
mutate_if(is.character, as.factor) -> Data_tbw
Data_tbw
Data_tbw %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 3,
omit = "RandomID")
source('~/Git/R/CUD_Test.R', echo=TRUE)
Data_tbw %>%
group_by(Group) %>%
dplyr::summarise(Follow_PersonYear = sum(Follow))
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別,
Complication = 合併症) %>%
mutate(Complication = if_else(Complication == "なし",
"Complication-", "Complication+")) %>%
mutate(Complication = fct_relvel(Complication, "Complication+"))
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別,
Complication = 合併症) %>%
mutate(Complication = if_else(Complication == "なし",
"Complication-", "Complication+")) %>%
mutate(Complication = fct_relvel(Complication, "Complication+")) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow, Complication) %>%
mutate_if(is.character, as.factor) -> Data_tbw
read_excel("/Users/shibataryohei/Dropbox/Database/CUD/ACHMC_Mitrofanoff_Monti.xlsx",
sheet = "Paper") %>%
dplyr::rename(Group = 群,
Age = 手術時年齢,
Follow = 術後観察期間,
Sex = 性別,
Complication = 合併症) %>%
mutate(Complication = if_else(Complication == "なし",
"Complication-", "Complication+")) %>%
mutate(Complication = fct_relevel(Complication, "Complication+")) %>%
dplyr::select(RandomID, Group, Age, Sex, Follow, Complication) %>%
mutate_if(is.character, as.factor) -> Data_tbw
Data_tbw %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 3,
omit = "RandomID")
Data_tbw %>%
group_by(Group, Complication) %>%
dplyr::summarise(Count = n()) %>%
filter(Complication == "Complication+")
Data_tbw %>%
group_by(Group, Complication) %>%
dplyr::summarise(Count = n()) %>%
filter(Complication == "Complication+") %>%
inner_join(Data_tbw %>%
group_by(Group) %>%
dplyr::summarise(Follow_PersonYear = sum(Follow)))
Data_tbw %>%
group_by(Group, Complication) %>%
dplyr::summarise(Count = n()) %>%
filter(Complication == "Complication+") %>%
inner_join(Data_tbw %>%
group_by(Group) %>%
dplyr::summarise(Follow_PersonYear = sum(Follow))) %>%
mutate(`Case/PersonYear` = Count/Follow_PersonYear)
Data_tbw %>%
group_by(Group, Complication) %>%
dplyr::summarise(Count = n()) %>%
filter(Complication == "Complication+") %>%
inner_join(Data_tbw %>%
group_by(Group) %>%
dplyr::summarise(Follow_PersonYear = sum(Follow))) %>%
mutate(`Case/PersonYear` = Count/Follow_PersonYear)
Data_tbw
Data_tbw %>%
# dplyr::select(RandomID, 群, 移動, 太さ, 手術時年齢, 部位, Flap, 術後観察期間) %>%
wilcox_fisher_table(.,
group = "Group",
digits = 3,
omit = "RandomID")
Data_tbw %>%
group_by(Group, Complication) %>%
dplyr::summarise(Count = n()) %>%
filter(Complication == "Complication+") %>%
inner_join(Data_tbw %>%
group_by(Group) %>%
dplyr::summarise(Follow_PersonYear = sum(Follow))) %>%
mutate(`Case/PersonYear` = Count/Follow_PersonYear)
